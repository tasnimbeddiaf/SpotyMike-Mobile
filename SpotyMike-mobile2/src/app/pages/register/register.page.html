<div class="back">
  <ion-icon name="chevron-back-outline" (click)="buttonBack()"></ion-icon>
</div>
<form [formGroup]="bioSection" (ngSubmit)="onSubmit()">
  <ion-list class="bg-transparent">
    <ion-label>Nom*</ion-label>
    <ion-input type="text" name="Firstname" formControlName="Firstname" placeholder="toto"></ion-input>
    @if (bioSection.get('Firstname')?.invalid && (bioSection.get('Firstname')?.dirty
    ||bioSection.get('Firstname')?.touched)) {
    <div>
      @if(bioSection.get('Firstname')?.errors?.['required'] ){
      <p class="error"><ion-icon name="alert-outline"></ion-icon>Le nom est obligatoire.</p>
      }
      @else if(bioSection.get('Firstname')?.errors?.['minlength'] ||
      bioSection.get('Firstname')?.errors?.['maxlength']){
      <p class="error"><ion-icon name="alert-outline"></ion-icon>Le nom doit obligatoirement être supérieur à 1
        caractère et inférieur à 60 caractères.</p>
      }
    </div>
    }
    <ion-label>Prénom*</ion-label>
    <ion-input type="text" name="Lastname" formControlName="Lastname" placeholder="tata">
      @if (bioSection.get('Firstname')?.invalid && (bioSection.get('Firstname')?.dirty
      ||bioSection.get('Firstname')?.touched)) {
      <div>
        @if(bioSection.get('Firstname')?.errors?.['required'] ){
        <p class="error"><ion-icon name="alert-outline"></ion-icon>Le prénom est obligatoire.</p>
        }
        @else if(bioSection.get('Firstname')?.errors?.['minlength'] ||
        bioSection.get('Firstname')?.errors?.['maxlength']){
        <p class="error"><ion-icon name="alert-outline"></ion-icon>Le prénon doit obligatoirement être supérieur à 1
          caractère et inférieur à 60 caractères.</p>
        }
      </div>
      }
    </ion-input>
    <ion-label>Email</ion-label>
    <ion-input type="Email" formControlName="email" name="email" placeholder="mike@mike.mike"></ion-input>
    @if (bioSection.get('email')?.invalid && (bioSection.get('email')?.dirty ||bioSection.get('email')?.touched)) {
    <div>
      @if(bioSection.get('email')?.errors?.['required'] ){
      <p class="error"><ion-icon name="alert-outline"></ion-icon>Email obligatoire.</p>
      }
      @else if(bioSection.get('email')?.errors?.['pattern'] ){
      <p class="error"><ion-icon name="alert-outline"></ion-icon>Format de  l'email  invalide.</p>
      }
    </div>
    }
    <ion-label>Password</ion-label>
    <ion-input type="{{showPassword ? 'text' : 'password'}}" formControlName="password" name="password"
      placeholder="••••••••••••••">
      <ion-icon class="input_password" slot="end" [name]="showPassword ? 'eye-outline' : 'eye-off-outline'" slot="end"
        (click)="togglePasswordVisibility()">
      </ion-icon>
    </ion-input>
    @if (bioSection.get('password')?.invalid && (bioSection.get('password')?.dirty
    ||bioSection.get('password')?.touched)) {
    <div>
      @if(bioSection.get('password')?.errors?.['required'] ){
      <p class="error"><ion-icon name="alert-outline"></ion-icon>Mot de passe obligatoire. </p>
      }
      @else if(bioSection.get('password')?.errors?.['pattern'] ){
      <p class="error"><ion-icon name="alert-outline"></ion-icon>Format du mot de passe invalide.</p>
      }
      @else if(bioSection.get('password')?.errors?.['minlength'] ){
      <p class="error"><ion-icon name="alert-outline"></ion-icon>Taille du mot de passe invalide.</p>
      }
    </div>
    }
    <ion-label>DateBirth</ion-label>
    <ion-input type="text" name="DateBirth" formControlName="DateBirth" placeholder="03/05/2001"></ion-input>
    @if (bioSection.get('DateBirth')?.invalid && (bioSection.get('DateBirth')?.dirty
    ||bioSection.get('DateBirth')?.touched)) {
    <div>
      @if(bioSection.get('DateBirth')?.errors?.['required'] ){
        <p class="error"><ion-icon name="alert-outline"></ion-icon>La date est obligatoire.</p>
        }
      @if(bioSection.get('DateBirth')?.errors?.['pattern'] ){
      <p class="error"><ion-icon name="alert-outline"></ion-icon>Format de la date invalide.</p>
      }
    </div>
    }
    <ion-label> Phone Number</ion-label>
    <ion-input type="tel" name="text" formControlName="phoneNumber" placeholder="01 23 45 67 89"></ion-input>
    @if (bioSection.get('phoneNumber')?.invalid && (bioSection.get('phoneNumber')?.dirty
    ||bioSection.get('phoneNumber')?.touched)) {
    <div>
      @if(bioSection.get('phoneNumber')?.errors?.['pattern'] ){
      <p class="error"><ion-icon name="alert-outline"></ion-icon>Numero de telephone invalide.</p>
      }
    </div>
    }
    <ion-label> Genre</ion-label>
    <div class="space">
      <select name="genre" class="selcet" formControlName="genre">
        <option value="">Sélecionner</option>
        <option value="0">Femme</option>
        <option value="1">Homme</option>
      </select>
    </div>
  </ion-list>
  <ion-button class="button-green" [disabled]="submitForm || !bioSection.valid" type="submit">
    @if(submitForm){
    <ion-spinner name="crescent"></ion-spinner>
    }
    @else {
    <span>s'inscrire</span>
    }
  </ion-button>
</form>
