
<form [formGroup]="bioSection" (ngSubmit)="onSubmit()">
  <ion-list class="bg-transparent">
    @if (error) {
      <p class="error"><ion-icon name="alert-outline"></ion-icon>{{ error}}</p>
    }
    <ion-label>Email</ion-label>
    <ion-input type="Email" formControlName="email" name="email" placeholder="email@domain.com"></ion-input>
    @if (bioSection.get('email')?.invalid && (bioSection.get('email')?.dirty ||bioSection.get('email')?.touched)) {
    <div>
      @if(bioSection.get('email')?.errors?.['required'] ){
      <p class="error"><ion-icon name="alert-outline"></ion-icon>L'adresse email est requise.</p>
      }
      @else if(bioSection.get('email')?.errors?.['pattern'] ){
      <p class="error"><ion-icon name="alert-outline"></ion-icon>L'adresse email n'est pas valide.</p>
      }
    </div>
    }
    <ion-label>Password</ion-label>
    <ion-input type="{{showPassword ? 'text' : 'password'}}" formControlName="password" name="password"
      placeholder="••••••••••••••">
      <ion-icon class="input_password" slot="end" [name]="showPassword ? 'eye-outline' : 'eye-off-outline'" slot="end"
        (click)="togglePasswordVisibility()">
      </ion-icon>
    </ion-input>
    @if (bioSection.get('password')?.invalid && (bioSection.get('password')?.dirty
    ||bioSection.get('password')?.touched)) {
    <div>
      @if(bioSection.get('password')?.errors?.['required'] ){
      <p class="error"><ion-icon name="alert-outline"></ion-icon>Le mot de passe est requis.</p>
      }
      @else if(bioSection.get('password')?.errors?.['pattern'] ){
      <p class="error"><ion-icon name="alert-outline"></ion-icon>Le mot de passe doit contenir au moins une lettre majuscule et un caractère spécial.</p>
      }
      @else if(bioSection.get('password')?.errors?.['minlength'] ){
      <p class="error"><ion-icon name="alert-outline"></ion-icon>Le mot de passe doit contenir au moins 8 caractères.</p>
      }
    </div>
    }
  </ion-list>
  <a type="submit" (click)="openModalpasswordForgot()" class="password-forgot">Mot de passe oublié</a>
  <ion-button class="button-green" [disabled]="submitForm || !bioSection.valid" type="submit">
    @if(submitForm){
    <div class="spinner-position">
      <ion-spinner name="crescent"></ion-spinner>
    </div>
    }
    @else {
    <span>Se Connecter</span>
    }
  </ion-button>
  <a type="submit" (click)="createAcount()">Pas encore inscrit ?</a>
</form>
